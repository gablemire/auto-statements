service: auto-receipt

provider:
  name: google
  stage: production
  runtime: nodejs10
  region: us-east1
  project: auto-receipt-prod
  credentials: ./.gcloud/keyfile.production.json
  memorySize: 256
  labels:
    environment: ${self:provider.stage}
  environment:
    API__APITOKEN: ${file(./.gcloud/secrets.production.yml):api.apiToken}
    NODE_ENV: production
    FUNCTION_REGION: ${self:provider.region}

plugins:
  - serverless-google-cloudfunctions

package:
  exclude:
    - ./**
  include:
    - lib/**
    - config/**
    - package.json
    - package-lock.json

functions: ${file(./serverless/functions.yml):functions}
